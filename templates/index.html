<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Mental Health Predictor</title>

    <link rel="stylesheet" href="/static/css/style.css">

    <script>
        function toggleFields() {

            const status = document.getElementById("status").value;

            const studentFields = document.getElementById("student-fields");
            const workerFields = document.getElementById("worker-fields");

            const profession = document.getElementById("Profession");
            const cgpa = document.getElementById("CGPA");

            const workPressure = document.getElementById("Work_Pressure");
            const jobSat = document.getElementById("Job_Satisfaction");

            const acadPressure = document.getElementById("Academic_Pressure");
            const studySat = document.getElementById("Study_Satisfaction");


            /* Reset All */
            studentFields.style.display = "none";
            workerFields.style.display = "none";


            /* STUDENT */
            if (status === "Student") {

                studentFields.style.display = "grid";

                profession.value = "Student";
                profession.readOnly = true;

                cgpa.disabled = false;


                /* Disable Worker Fields */
                workPressure.value = "0";
                jobSat.value = "0";

                workPressure.disabled = true;
                jobSat.disabled = true;

                acadPressure.disabled = false;
                studySat.disabled = false;
            }


            /* WORKER */
            if (status === "Working Professional") {

                workerFields.style.display = "grid";

                profession.readOnly = false;

                cgpa.value = "0";
                cgpa.disabled = true;


                /* Disable Student Fields */
                acadPressure.value = "0";
                studySat.value = "0";

                acadPressure.disabled = true;
                studySat.disabled = true;


                workPressure.disabled = false;
                jobSat.disabled = false;
            }
        }
    </script>

</head>


<body>

<div class="page">

    <div class="card">

        <h1>ðŸ§  Mental Health Risk Predictor</h1>


        <form action="/predict" method="post">


            <!-- Personal -->

            <h2>Personal Info</h2>

            <div class="grid">

                <input name="Name" placeholder="Full Name" required>

                <select name="Gender" required>
                    <option value="">Gender</option>
                    <option>Male</option>
                    <option>Female</option>
                </select>

                <input name="Age" type="number" placeholder="Age" required>

                <input name="City" placeholder="City" required>

            </div>


            <!-- Status -->

            <h2>Status</h2>

            <select id="status"
                    name="Working_Professional_or_Student"
                    onchange="toggleFields()"
                    required>

                <option value="">Select Status</option>
                <option value="Student">Student</option>
                <option value="Working Professional">Working Professional</option>

            </select>


            <input id="Profession"
                   name="Profession"
                   placeholder="Profession">


            <!-- Student -->

            <div id="student-fields" class="grid hidden">

                <h3>ðŸŽ“ Student Section</h3>

                <select id="Academic_Pressure" name="Academic_Pressure">
                    <option value="0">Academic Pressure</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>

                <select id="Study_Satisfaction" name="Study_Satisfaction">
                    <option value="0">Study Satisfaction</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>

                <input id="CGPA"
                       name="CGPA"
                       type="number"
                       step="0.01"
                       placeholder="CGPA">

            </div>


            <!-- Worker -->

            <div id="worker-fields" class="grid hidden">

                <h3>ðŸ’¼ Professional Section</h3>

                <select id="Work_Pressure" name="Work_Pressure">
                    <option value="0">Work Pressure</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>

                <select id="Job_Satisfaction" name="Job_Satisfaction">
                    <option value="0">Job Satisfaction</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>

            </div>


            <!-- Lifestyle -->

            <h2>Lifestyle</h2>

            <div class="grid">

                <select name="Sleep_Duration" required>
                    <option value="">Sleep Duration</option>
                    <option>Less than 5 hours</option>
                    <option>5-6 hours</option>
                    <option>7-8 hours</option>
                    <option>More than 8 hours</option>
                </select>

                <select name="Dietary_Habits" required>
                    <option value="">Diet</option>
                    <option>Healthy</option>
                    <option>Moderate</option>
                    <option>Unhealthy</option>
                </select>

                <input name="Degree" placeholder="Degree" required>

            </div>


            <!-- Mental -->

            <h2>Mental Health</h2>

            <div class="grid">

                <select name="Suicidal_Thoughts" required>
                    <option value="">Suicidal Thoughts?</option>
                    <option>Yes</option>
                    <option>No</option>
                </select>

                <input name="Work_Study_Hours"
                       type="number"
                       step="0.1"
                       placeholder="Work/Study Hours"
                       required>

                <select name="Financial_Stress" required>
                    <option value="">Financial Stress</option>
                    <option>1</option><option>2</option><option>3</option>
                    <option>4</option><option>5</option>
                </select>

                <select name="Family_History" required>
                    <option value="">Family History?</option>
                    <option>Yes</option>
                    <option>No</option>
                </select>

            </div>


            <!-- Submit -->

            <button type="submit">Predict</button>


            {% if result %}
            <div class="result">
                {{ result }}
            </div>
            {% endif %}

        </form>

    </div>

</div>

</body>
</html>
